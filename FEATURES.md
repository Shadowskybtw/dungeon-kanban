# ✨ Функции и возможности DUNGEON Канбан

## 🎯 Основные возможности

### 1. Визуализация зон

#### Карточки зон
Каждая зона представлена отдельной карточкой с информацией:

```
┌─────────────────────────────┐
│  Зона 1              [VIP]  │  ← VIP индикатор (если применимо)
│  👥 До 6 чел.        [●]    │  ← Вместимость и статус
│                             │
│  🕐 19:00                   │  ← Время брони
│  Алексей Петров            │  ← Имя гостя
│  👥 4 гостей               │  ← Количество
│  📞 +7 (999) 123-45-67     │  ← Телефон
│                             │
│  [✅] [✏️] [🗑️]            │  ← Действия
└─────────────────────────────┘
```

#### Цветовое кодирование

🟩 **Активна** (зелёный)
- Бронь подтверждена
- Гость ожидается
- Зона занята

🟨 **Ожидание** (жёлтый)
- Требует подтверждения
- Гость не подтвердил
- Временная бронь

🟥 **Отменена** (красный)
- Бронь аннулирована
- Гость не пришёл
- Зона освобождена

⬜ **Свободна** (серый)
- Нет активной брони
- Доступна для бронирования
- Пустая зона

---

### 2. Управление филиалами

#### Переключатель филиалов

```
┌──────────────────────────────────┐
│  📍 [Московское ш.] [Полевая]   │
└──────────────────────────────────┘
```

**Функции:**
- Мгновенное переключение между локациями
- Отдельные данные для каждого филиала
- Сохранение выбора в сессии

**Использование:**
1. Кликните на название филиала
2. Данные автоматически обновятся
3. Отображаются только зоны выбранного филиала

---

### 3. Фильтрация и сортировка

#### Фильтры статусов

```
Статус: [Все] [Активные] [Ожидающие]
```

**Опции:**
- **Все** — показать все зоны (включая пустые)
- **Активные** — только подтверждённые брони
- **Ожидающие** — только требующие подтверждения

**Комбинации:**
- Филиал + Статус работают вместе
- Например: "Полевая + Активные" покажет только активные брони на Полевой

---

### 4. Действия с бронированиями

#### Подтверждение ✅

**Что делает:**
- Переключает статус между `active` ⇄ `pending`
- Меняет цвет карточки
- Обновляет данные в Google Sheets

**Использование:**
1. Найдите нужную карточку
2. Кликните зелёную кнопку ✅
3. Статус изменится мгновенно

#### Редактирование ✏️

**Открывает модальное окно с полями:**

```
┌───────────────────────────────────┐
│  Редактирование брони             │
│  Зона 1                           │
├───────────────────────────────────┤
│                                   │
│  🕐 Время:      [19:00]          │
│  👤 Имя:        [Алексей Петров] │
│  👥 Гости:      [4]      / 6     │
│  📞 Телефон:    [+7 999...]      │
│                                   │
│  Статус: [Активна] [Ожидание]   │
│          [Отменена]              │
│                                   │
│  [Отмена]           [💾 Сохранить] │
└───────────────────────────────────┘
```

**Возможности:**
- Изменение всех полей брони
- Валидация количества гостей
- Выбор статуса кнопками
- Закрытие по ESC или кнопке

#### Удаление 🗑️

**Что делает:**
- Показывает подтверждение: "Вы уверены?"
- Удаляет бронь из системы
- Освобождает зону
- Обновляет статистику

**Безопасность:**
- Требует подтверждения
- Нельзя отменить после удаления
- Данные удаляются из Google Sheets

---

### 5. Шапка и управление

#### Структура заголовка

```
┌────────────────────────────────────────────────────────┐
│  DUNGEON                          🕐 Обновлено: 18:30 │
│  Канбан-доска бронирований             Зон: 22       │
├────────────────────────────────────────────────────────┤
│  📍 [Московское ш.] [Полевая]                         │
│                                                        │
│  Статус: [Все] [Активные] [Ожидающие]                │
│                                                        │
│  [🔄 Обновить] [🗑️ Очистить]                        │
└────────────────────────────────────────────────────────┘
```

#### Информация в реальном времени

**Отображается:**
- Время последнего обновления
- Общее количество зон
- Текущий филиал
- Активный фильтр

---

### 6. Статистика

#### Панель метрик

```
┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐
│ ✅ Активные     │ │ ⏳ Ожидающие    │ │ 📭 Свободные    │
│                 │ │                 │ │                 │
│     6           │ │     2           │ │     14          │
└─────────────────┘ └─────────────────┘ └─────────────────┘
```

**Обновляется автоматически** при:
- Изменении статуса
- Добавлении/удалении брони
- Смене филиала
- Автообновлении данных

---

### 7. Автообновление

#### Как работает

```
Загрузка данных
     ↓
Отображение
     ↓
⏱️ Ожидание 30 сек
     ↓
Обновление
     ↓
(повтор)
```

**Параметры:**
- Интервал: **30 секунд** (настраивается)
- Работает в фоне
- Не прерывает редактирование
- Показывает время последнего обновления

**Ручное обновление:**
- Кнопка "🔄 Обновить" в шапке
- Обновляет данные мгновенно
- Сбрасывает таймер автообновления

---

### 8. Адаптивный дизайн

#### Desktop (1920px+)

```
┌──────┬──────┬──────┬──────┬──────┐
│ Зона │ Зона │ Зона │ Зона │ Зона │
│  1   │  2   │  3   │  4   │  5   │
├──────┼──────┼──────┼──────┼──────┤
│ Зона │ Зона │ Зона │ Зона │ Зона │
│  6   │  7   │  8   │  9   │  10  │
└──────┴──────┴──────┴──────┴──────┘
```
**5 колонок** — максимум информации на экране

#### Laptop (1280px)

```
┌──────┬──────┬──────┬──────┐
│ Зона │ Зона │ Зона │ Зона │
│  1   │  2   │  3   │  4   │
└──────┴──────┴──────┴──────┘
```
**4 колонки** — оптимально для ноутбуков

#### Tablet (768px)

```
┌──────┬──────┬──────┐
│ Зона │ Зона │ Зона │
│  1   │  2   │  3   │
└──────┴──────┴──────┘
```
**3 колонки** — удобно для планшетов

#### Mobile (640px)

```
┌──────┬──────┐
│ Зона │ Зона │
│  1   │  2   │
├──────┼──────┤
│ Зона │ Зона │
│  3   │  4   │
└──────┴──────┘
```
**2 колонки** — компактно для смартфонов

#### Small Mobile (<640px)

```
┌──────┐
│ Зона │
│  1   │
├──────┤
│ Зона │
│  2   │
├──────┤
│ Зона │
│  3   │
└──────┘
```
**1 колонка** — вертикальный скролл

---

### 9. Визуальные эффекты

#### Неоновое свечение

**При наведении:**
```
     Обычное состояние
            ↓
    Карточка светится
            ↓
     Поднимается вверх
            ↓
    Усиленное свечение
```

**Эффекты:**
- Плавный переход (300ms)
- Изменение тени
- Transform: translateY(-4px)
- Увеличение яркости границ

#### Анимации появления

**При загрузке:**
- Fade-in с движением вверх
- Задержка для каждой карточки
- Плавное появление (0.5s)

**При обновлении:**
- Мгновенное обновление данных
- Сохранение позиции скролла
- Без мерцания

---

### 10. VIP-зоны

#### Особенности

```
┌─────────────────────────────┐
│               [🟣 VIP]      │  ← Значок VIP
│  VIP-17         ●           │  ← Фиолетовое имя
│  👥 До 10 чел.              │  ← Больше вместимость
│                             │
│  ... бронь ...              │
│                             │
└─────────────────────────────┘
    ↑ Фиолетовое свечение
```

**Отличия от обычных:**
- 💜 Фиолетовое свечение
- 🎨 Фиолетовая рамка
- 👑 Значок VIP
- 📊 Большая вместимость
- ⭐ Приоритет в отображении

---

### 11. Обработка ошибок

#### Нет данных

```
┌────────────────────────────┐
│                            │
│          🔍                │
│                            │
│   Нет зон, соответствующих │
│        фильтру             │
│                            │
└────────────────────────────┘
```

#### Загрузка

```
┌────────────────────────────┐
│                            │
│          ⭕                │
│     (вращается)            │
│                            │
│   Загрузка данных...       │
│                            │
└────────────────────────────┘
```

#### Ошибка API

```
┌────────────────────────────┐
│  ⚠️  Ошибка загрузки       │
│                            │
│  [🔄 Попробовать снова]    │
└────────────────────────────┘
```

---

### 12. Клавиатурная навигация

#### Горячие клавиши

| Клавиша | Действие |
|---------|----------|
| `Tab` | Переход между элементами |
| `Enter` | Активация кнопки |
| `Esc` | Закрыть модальное окно |
| `Space` | Прокрутка страницы |

#### Доступность

- ✅ Все кнопки доступны с клавиатуры
- ✅ Фокус виден
- ✅ Логический порядок Tab
- ✅ ARIA-атрибуты (при необходимости)

---

### 13. Производительность

#### Оптимизации

**Frontend:**
- ⚡ React.memo для компонентов
- 🔄 useCallback для обработчиков
- 📦 Ленивая загрузка модальных окон
- 🎯 Точечное обновление state

**API:**
- 💾 Кэширование в Google Apps Script
- 🔄 Debounce для частых запросов
- 📊 Пагинация (при большом количестве данных)
- ⚡ Минификация JSON ответов

**Результаты:**
- First Paint: < 1s
- Interactive: < 2s
- Smooth 60fps анимации
- Мгновенный отклик UI

---

### 14. Будущие возможности

#### Планируется добавить

🔮 **Drag & Drop**
- Перетаскивание броней между зонами
- Визуальная индикация перемещения
- Подтверждение изменений

📊 **Аналитика**
- Графики загруженности
- Статистика по времени
- Популярные зоны
- Средний чек

🔔 **Уведомления**
- Push-уведомления
- Email рассылки
- SMS напоминания
- Telegram bot

📅 **Календарь**
- Просмотр броней по датам
- Недельный/месячный вид
- Повторяющиеся брони
- Экспорт в .ics

🔐 **Авторизация**
- Роли и права доступа
- Менеджер / Администратор
- История действий
- Аудит изменений

---

## 🎨 Дизайн-система

### Цвета

```css
Тёмный фон:     #0a0a0f  ████████
Карточки:       #1a1a2e  ████████
Зелёный неон:   #00ff88  ████████
Фиолетовый:     #a855f7  ████████
Синий неон:     #3b82f6  ████████
Серый:          #2a2a3e  ████████
```

### Типографика

```
Заголовки (Orbitron):
DUNGEON КАНБАН
Зона 1, VIP-17

Основной текст (Poppins):
Алексей Петров
+7 (999) 123-45-67
```

### Отступы и размеры

```
Карточка:       padding: 16px
Gap между:      24px
Border radius:  12px
Border:         2px
Shadow blur:    40px
```

---

## 💡 Лучшие практики использования

### Для администраторов

1. **Регулярно обновляйте данные** в Google Sheets
2. **Проверяйте статусы** перед началом смены
3. **Используйте фильтры** для быстрого поиска
4. **Подтверждайте брони** заранее

### Для менеджеров

1. **Следите за VIP-зонами** — они приносят больше дохода
2. **Отслеживайте ожидающие** — подтверждайте их первыми
3. **Анализируйте загруженность** по филиалам
4. **Экспортируйте данные** для отчётов

### Для гостей (будущее)

1. Самостоятельное бронирование
2. Выбор зоны на карте
3. Онлайн-оплата
4. Отслеживание статуса

---

## 🎯 Итого

**DUNGEON Канбан** — это:

✅ Современный интерфейс  
✅ Интуитивное управление  
✅ Реальное время  
✅ Адаптивность  
✅ Расширяемость  
✅ Производительность  

**Готово к использованию прямо сейчас!** 🚀

---

*Версия 1.0.0 | 23 октября 2025*

